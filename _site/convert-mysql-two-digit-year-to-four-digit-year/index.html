<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.1.1
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="http://localhost:4000">
<script data-ad-client="ca-pub-9518508677792760" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link rel="apple-touch-icon" sizes="57x57" href="/favicon.ico/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/favicon.ico/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/favicon.ico/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/favicon.ico/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/favicon.ico/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/favicon.ico/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/favicon.ico/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/favicon.ico/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/favicon.ico/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon.ico/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico/favicon-16x16.png">
<link rel="manifest" href="/favicon.ico/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">  
  

  
    <title>How To Convert MySQL Two Digit Year To Four Digit Year</title>
    <meta name="description" content="">
    <link rel="canonical" href="http://localhost:4000/convert-mysql-two-digit-year-to-four-digit-year/">
  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  <link rel="stylesheet" href="/assets/css/applause-button.css" />
   <script src="/assets/js/applause-button.js"></script>

</head>


  <body class="layout--post  how-to-convert-mysql-two-digit-year-to-four-digit-year">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/posts/">Posts</a></li><li><a href="/categories/">Categories</a></li><li><a href="/tags/">Tags</a></li><li><a href="https://medium.com/@bhuvithedataguy">BigData Articles</a></li><li><a href="/search/">Search</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Nitin Kumar Singh | Data Architect</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Mi occupo di web disign, grafica, web writing e sviluppo web.</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">How To Convert MySQL Two Digit Year To Four Digit Year
</h1>
        

      </header>
      
      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info"><div class="author-name">
        <span class="p-name">Nitin Kumar Singh</span>
      </div>
    <time class="page-date dt-published" datetime="2018-07-20T20:57:29+05:30"><a class="u-url" href="">July 20, 2018</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">MySQL</li>
  </ul>


        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">csv</li><li class="page-taxonomy">datatype</li><li class="page-taxonomy">mysql</li>
  </ul>


        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad-vertical -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9518508677792760"
     data-ad-slot="4154399056"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
        <br/>
        <br/>
        <applause-button style="width: 58px; height: 58px; text-align:right" color="black" multiclap="true">

      </div>

      <div class="page-content">
        <div class="e-content">

          <p><img src="/assets/How-To-Convert-MySQL-Two-Digit-Year-To-Four-Digit-Year.png" alt="How To Convert MySQL Two Digit Year To Four Digit Year" /></p>

<p>Today I was working with a small MySQL data set. The data provided by a CSV file and needed to load it into AWS RDS MySQL. Since the RDS does not support the Load data inline. So I have manually convert the CSV file to .sql file. But the problem statement is, in CSV the date time column had two digit year format and while converting into sql it considered the day part as year and automatically added 20  in the beginning. MySQL has makedate function , but it didn’t work for me. My entire data for the year 2018.</p>

<h2 id="the-two-digit-format-in-csv">The two digit format in CSV</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">1.  <span class="nb">dd</span>/mm/yy hh:mm:ss
2.  30-05-18  14:57:19
3.  30-05-18  14:55:15
4.  19-05-18  04:15:15
5.  18-05-18  02:11:53
6.  17-05-18  22:14:24</code></pre></figure>

<h2 id="converted-sql-file">Converted sql file</h2>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">1.  yyyy/mm/dd hh:mm:ss
2.  2030-05-18  14:57:19
3.  2030-05-18  14:55:15
4.  2019-05-18  04:15:15
5.  2018-05-18  02:11:53
6.  2017-05-18  22:14:24</code></pre></figure>

<h2 id="create-the-table-and-load-the-test-data">Create the table and load the test data</h2>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">create</span> <span class="k">table</span> <span class="n">csv_date</span>  <span class="p">(</span><span class="nb">date</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2030-05-18 14:57:19'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2030-05-18 14:55:15'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2019-05-18 04:15:15'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2018-05-18 02:11:53'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2017-05-18 22:14:24'</span><span class="p">);</span></code></pre></figure>

<h2 id="convert-two-digit-to-four-digit-in-mysql">Convert two digit to four digit in MySQL:</h2>

<ul>
  <li>Create a temporary table same as the original table but make the column datatype as datetime data type. </li>
  <li>Select the original table and trim the first two characters from the yyyy.</li>
  <li>Add 20 in the year (dd-mm-[20] yy).</li>
  <li>Do str_to_date to mention this as a datetime column.</li>
  <li>Drop the old table and rename the temporary table.</li>
</ul>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="c1">-- Create the temp table</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">fix_date</span> <span class="p">(</span><span class="nb">date</span> <span class="nb">datetime</span><span class="p">);</span>

<span class="c1">-- insert the value (trim the 20)</span>
<span class="k">insert</span> <span class="k">into</span> <span class="k">new</span> <span class="k">select</span> <span class="n">str_to_date</span><span class="p">(</span><span class="n">concat</span><span class="p">((</span><span class="n">substr</span><span class="p">(</span><span class="n">substr</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">length</span><span class="p">(</span><span class="nb">date</span><span class="p">)),</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)),</span><span class="s1">'20'</span><span class="p">,</span><span class="n">substr</span><span class="p">(</span><span class="n">substr</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">length</span><span class="p">(</span><span class="nb">date</span><span class="p">)),</span><span class="mi">7</span><span class="p">)),</span> <span class="nv">"%d-%m-%Y %H:%i:%s"</span><span class="p">)</span> <span class="k">from</span> <span class="n">csv_date</span><span class="p">;</span>

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">fix_date</span><span class="p">;</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">19</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">15</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">19</span> <span class="mi">04</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">15</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">18</span> <span class="mi">02</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">53</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">17</span> <span class="mi">22</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">24</span>

<span class="c1">-- Replace the table</span>
<span class="k">drop</span> <span class="k">table</span> <span class="n">csv_date</span><span class="p">;</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">fix_date</span> <span class="k">rename</span> <span class="k">to</span> <span class="n">csv_date</span><span class="p">;</span></code></pre></figure>


        </div>
        <hr>
        <h3>Advertisement</h3>
         <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad-horizontal -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9518508677792760"
     data-ad-slot="4874591962"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
        <hr>
        <h3> Share this article </h3>
      
        

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/automate-aws-redshift-snapshot-and-restore/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Automate AWS RedShift Snapshot And Restore

      </span>
    </a>
  

  
    <a class="page-next" href="/mysql-gtid-vs-mariadb-gtid/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        MySQL GTID vs MariaDB GTID
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="copyright">
    
      <p>&copy; 2020 Nitin Kumar Singh | Data Architect. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


  </body>

</html>
