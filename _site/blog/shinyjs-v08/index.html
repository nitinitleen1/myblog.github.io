<!DOCTYPE html>
<html lang="en">
  <!-- MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  
  <title>Useful tools for shiny developers in the new version of shinyjs</title>
  

  <meta name="author" content="Nitin Singh" />
  
  
  <meta name="description" content="# Important note **The package has improved a lot since writing this post. I highly recommend you stop reading this page and instead go the [shinyjs website](http://deanattali.com/shinyjs).** shinyjs website [shinyjs](https://github.com/daattali/shinyjs) is a package that helps you easily improve the user interaction and user experience in your shiny apps. It has...">
  
  
  <meta name="keywords" content="rstats,r,r shiny,shiny apps,r shiny apps,shiny developer,r shiny developer,shiny consultant,web application development with r using shiny">

  <link rel="alternate" type="application/rss+xml" title="Nitin Singh - A computer science student persuing B.TECH from IIITVADODARA and a programming enthusiast." href="/feed.xml" />

  
    
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    
      
  
  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
    
  
  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

    
  
  

  
  
  <!-- Facebook OpenGraph tags -->
  
  <meta property="og:title" content="Useful tools for shiny developers in the new version of shinyjs" />
  
  
  <meta property="og:type" content="website" />
  
  
  <meta property="og:url" content="http://localhost:4000/blog/shinyjs-v08/" />
  <link rel="canonical" href="http://localhost:4000/blog/shinyjs-v08/" />
  
  
  
  <meta property="og:image" content="http://deanattali.com/img/blog/shinyjs-v08/run-arbitrary-code.gif" />
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@nitinkumarsin10" />
  <meta name="twitter:creator" content="@nitinkumarsin10" />
  <meta name="twitter:title" content="Useful tools for shiny developers in the new version of shinyjs" />
  <meta name="twitter:description" content="# Important note **The package has improved a lot since writing this post. I highly recommend you stop reading this page and instead go the [shinyjs website](http://deanattali.com/shinyjs).** shinyjs website [shinyjs](https://github.com/daattali/shinyjs) is a package that helps you easily improve the user interaction and user experience in your shiny apps. It has..." />
  
  <meta name="twitter:image" content="http://deanattali.com/img/blog/shinyjs-v08/run-arbitrary-code.gif" />
    

</head>


  <body>
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom ">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost:4000">Nitin Singh</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="/">Blog</a>

          </li>
        
        
        
          <li>
            
            





<a href="/shiny">Shiny</a>

          </li>
        
        
        
          <li>
            
            





<a href="/projects">Projects</a>

          </li>
        
        
        
          <li>
            
            





<a href="/aboutme">About Me / Contact</a>

          </li>
        
        
		
		
		<li>
		  <a href="/search" class="nav-search-link" title="Search">
		    <span class="fa fa-search nav-search-icon"></span>
			<span class="nav-search-text">Search</span>
		  </a>
		</li>
		
      </ul>
    </div>
	
	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://localhost:4000 ">
	      <img class="avatar-img" src="/img/nitinimg.jpeg" />
		</a>
	  </div>
	</div>
	
	
  </div>
</nav>  


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Useful tools for shiny developers in the new version of shinyjs</h1>
		  
		  
		  
		  <span class="post-meta">Posted on November 7, 2016</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
      	<h1 id="important-note">Important note</h1>

<p><strong>The package has improved a lot since writing this post. I highly recommend you stop reading this page and instead go the <a href="http://deanattali.com/shinyjs">shinyjs website</a>.</strong></p>

<div style="text-align:center;">
<a style="text-decoration: none;" class="btn btn-success btn-lg" href="http://deanattali.com/shinyjs">shinyjs website</a>
</div>

<p><a href="https://github.com/daattali/shinyjs">shinyjs</a> is a package that helps you easily improve the user interaction and user experience in your shiny apps. It has come a long way in the 1.5 years since it was first released, and today I’m happy to announce that version 0.8  is now on CRAN.</p>

<p>This version brings two new features that are used primarily to make the process of developing a shiny app easier, along with a few more improvements to existing functions.</p>

<h2 id="new-functions-to-help-with-shiny-app-development">New functions to help with shiny app development</h2>

<h3 id="run-arbitrary-r-code-live-in-a-shiny-app">1. Run arbitrary R code live in a Shiny app</h3>

<p>When I develop Shiny apps or packages for Shiny, I often find myself wanting to be able to run some R code on-demand while the app is running. Outside of Shiny, in regular R programming, we have the R console where we can run any command at any point in time, but in Shiny we don’t really have that.</p>

<p>What I usually end up doing is create several action buttons, and make each button run a different piece of code. This works, but it’s slow and tedious. A better solution that I sometimes use when I’m not too lazy is add a text input where I can type any code and run it. This works better, but requires a lot of code to set up.</p>

<p>Wouldn’t it be awesome if there was an easy way to run arbitrary R code on-demand while you’re developing your app? Now there is! All you need to do is call <code class="highlighter-rouge">runcodeUI()</code> in your UI and <code class="highlighter-rouge">runcodeServer()</code> in your server, and your app will have an input that can be used to run any R command.</p>

<p>Don’t believe how easy it is? The code below is all you need.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">shinyApp</span><span class="p">(</span><span class="w">
    </span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
        </span><span class="n">useShinyjs</span><span class="p">(),</span><span class="w">
        </span><span class="n">strong</span><span class="p">(</span><span class="s2">"Enter an R expression"</span><span class="p">),</span><span class="w">
        </span><span class="n">runcodeUI</span><span class="p">()</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">runcodeServer</span><span class="p">()</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><a href="http://localhost:4000/img/blog/shinyjs-v08/run-arbitrary-code.gif"><img src="http://localhost:4000/img/blog/shinyjs-v08/run-arbitrary-code.gif" alt="Run arbitrary code GIF" /></a></p>

<p>Note that this can be useful for testing and while developing an app locally, but it should not be included in an app that is accessible to other people, as letting others run arbitrary R code can open you up to security attacks.</p>

<h3 id="redirect-any-consolelog-messages-from-the-javascript-console-to-the-r-console">2. Redirect any console.log messages from the JavaScript console to the R console</h3>

<p>When developing and debugging a Shiny app that uses custom JavaScript code, it can be helpful to use <code class="highlighter-rouge">console.log()</code> messages in JavaScript. However, it can be time-consuming to have to keep opening the browser’s JavaScript console in order to see the messages. Instead, you can use the new <code class="highlighter-rouge">showLog()</code> function to redirect JavaScript log messages to the R console.</p>

<p>Again, using this feature is fairly simple: you need to use the <code class="highlighter-rouge">showLog = TRUE</code> parameter when including shinyjs, and you need to call <code class="highlighter-rouge">showLog()</code> somewhere in the server, as the example code below shows. (The example below makes use of a function called <code class="highlighter-rouge">logjs()</code>, which is a shinyjs function that does what you’d think - it sends a message to be logged to the JavaScript console.)</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">shinyApp</span><span class="p">(</span><span class="w">
  </span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
    </span><span class="n">useShinyjs</span><span class="p">(</span><span class="n">showLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w">  </span><span class="c1"># Set up shinyjs with showLog
</span><span class="w">    </span><span class="n">textInput</span><span class="p">(</span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Type something"</span><span class="p">)</span><span class="w">
  </span><span class="p">),</span><span class="w">
  </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">showLog</span><span class="p">()</span><span class="w">
    </span><span class="n">observe</span><span class="p">({</span><span class="w">
      </span><span class="n">logjs</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">"Length of text:"</span><span class="p">,</span><span class="w"> </span><span class="n">nchar</span><span class="p">(</span><span class="n">input</span><span class="o">$</span><span class="n">text</span><span class="p">)))</span><span class="w">
    </span><span class="p">})</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<h2 id="improvements-to-existing-functions">Improvements to existing functions</h2>

<p>There are two main feature improvements in this version of shinyjs:</p>

<ol>
  <li>
    <p>The <code class="highlighter-rouge">onclick()</code> and <code class="highlighter-rouge">onevent()</code> functions previously could only run an R expression when the event (mouse click, key press, mouse hover, etc) happened. This version adds support for a callback function, where the JavaScript Event object is passed to the R callback. This means that you can now get exact information about user events straight into Shiny without having to code in JavaScript at all - things like the mouse coordinates of a mouse click or what key the user pressed on the keyboard. This was requested several times in the past, and I finally got around to implementing it.</p>
  </li>
  <li>
    <p>The <code class="highlighter-rouge">reset()</code> function now works on file inputs. How to reset file inputs is a frequently asked question not only in Shiny, but in web development in general. I’ve seen this question come up many times in different Shiny forums, and hopefully this will work well for most users.</p>
  </li>
</ol>

      </article>
      
      
        <div class="blog-tags">
          Tags: professional, rstats, r, r-bloggers, shiny, packages, shinyjs
        </div>
      

      
  <div class="share-section">
    <h1 class="share-title">Liked what you read?</h1>
    
    
      <div class="share-buttons">
        
        
        
        
    
        
        
        
        
        <a href="http://localhost:4000/contact" data-ga-event=1 data-ga-category="share" data-ga-action="message" data-ga-label="/blog/shinyjs-v08/">
          Let me know
        </a>
        <!--
        <a href="https://www.facebook.com/dialog/feed?app_id=536330676521989&link=http://localhost:4000/blog/shinyjs-v08/&name=Useful tools for shiny developers in the new version of shinyjs&caption=nitinitleen1.github.io&redirect_uri=http://localhost:4000/blog/shinyjs-v08/?message=Thanks for sharing!&picture=http://deanattali.com/img/blog/shinyjs-v08/run-arbitrary-code.gif" data-ga-event=1 data-ga-category="share" data-ga-action="facebook" data-ga-label="/blog/shinyjs-v08/">
          Share on Facebook
        </a>
        -->
        <a href="https://www.paypal.me/daattali/10" data-ga-event=1 data-ga-category="share" data-ga-action="donate" data-ga-label="/blog/shinyjs-v08/">
          Support me
        </a>
        <a href="https://twitter.com/intent/tweet?url=http://localhost:4000/blog/shinyjs-v08/&via=daattali&hashtags=rstats&text=Useful tools for shiny developers in the new version of shinyjs" data-ga-event=1 data-ga-category="share" data-ga-action="twitter" data-ga-label="/blog/shinyjs-v08/">
          Tweet it
        </a>
      </div>
    
    
    
      <!-- MailChimp Signup Form -->
      <div id="mailchimp-subscribe-section-2">
        <div id="mc_embed_signup-2">
          <form action="//deanattali.us14.list-manage.com/subscribe/post?u=a579a88c8f09f9b8502b9d0c3&amp;id=c180f5773c" method="post" id="mc-embedded-subscribe-form-2" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll-2">
      	      <label for="mce-EMAIL-2">Sign up to my Shiny newsletter</label>
              <div class="container">
                <div class="row">
                  <div class="col-xs-8">
                    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL-2" placeholder="Email" required="">
                  </div>
                  <div class="col-xs-4">
                    <input type="text" value="" name="FNAME" class="text" id="mce-FNAME-2" placeholder="Name" required="">
                  </div>
                </div>
              </div>
              <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a579a88c8f09f9b8502b9d0c3_c180f5773c" tabindex="-1" value=""></div>
              <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe-2" class="button">
            </div>
          </form>
        </div>
      </div>
     

  </div>


      
      

      <ul class="pager blog-pager">
        
        
      </ul>

      
        <div class="disqus-comments">
          
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">
	    var disqus_shortname = 'nitin-site';
	    // ensure that pages with query string or anchor get the same discussion
            var url_parts = window.location.href.split("?");
            url_parts = url_parts[0].split("#");
            disqus_url = url_parts[0];
            disqus_url = disqus_url.replace(/(\/)*$/, "/"); // make sure the URL ends with one slash
            
            // Jekyll 3 caused so many bugs, I'm tired of fixing them one by one properly, so I'll just hack it...
            // https://github.com/jekyll/jekyll/issues/4483
            // The projects page now has a trailing slash, it didn't used to
            if (disqus_url.substr(-9) == "projects/") {
            	disqus_url = disqus_url.substr(0, disqus_url.length - 1);
            }

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


        </div>
      
      
      <div id="scroll-box">
  <div id="scroll-box-close">&times;</div>
  <div id="scroll-box-hire">
    Need Shiny help?
    <a href="/shiny">Hire me!</a>
  </div>
  <div id="mailchimp-subscribe-section">
    <div id="mc_embed_signup">
      <form action="//deanattali.us14.list-manage.com/subscribe/post?u=a579a88c8f09f9b8502b9d0c3&amp;id=c180f5773c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
        <div id="mc_embed_signup_scroll">
  	      <label for="mce-EMAIL">Sign up to my Shiny newsletter</label>
          <div class="container">
            <div class="row">
              <div class="col-xs-8">
  	            <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email" required="">
              </div>
              <div class="col-xs-4">
                <input type="text" value="" name="FNAME" class="text" id="mce-FNAME" placeholder="Name" required="">
              </div>
            </div>
          </div>
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a579a88c8f09f9b8502b9d0c3_c180f5773c" tabindex="-1" value=""></div>
          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" title="Sign up to my Shiny newsletter">
        </div>
      </form>
    </div>
  </div>
  <div id="scroll-box-contact">
    Questions/comments?
    <a href="/contact">Contact me!</a>
  </div>
</div>

    </div>
  </div>
</div>


    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">

          
          <li>
            <a href="mailto:nitin.iiitv@gmail.com?subject=Hello from nitinitleen1.github.io" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/nitinkumarsin10" title="Twitter">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/nitinitleen1" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://www.facebook.com/nitin.singh.357622" title="Facebook">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://stackoverflow.com/users/7629885/nitin-singh" title="StackOverflow">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          

          

        </ul>

        <p class="copyright text-muted">
          &copy; Nitin Singh
          &nbsp;&bull;&nbsp;
          2019

          
          &nbsp;&bull;&nbsp;
          <a href="mailto:nitin.iiitv@gmail.com?subject=Hello from nitinitleen1.github.io">nitin.iiitv@gmail.com</a>
          
        </p>
        <p class="theme-by text-muted">
          Theme by
          <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
        </p>
      </div>
    </div>
  </div>
</footer>

    
    


  
	<script src="/js/jquery-1.11.2.min.js"></script>
  
	<script src="/js/bootstrap.min.js"></script>
  
	<script src="/js/js.cookie.js"></script>
  
	<script src="/js/main.js"></script>
  







	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-59820529-1', 'auto');
		ga('send', 'pageview');
	</script>
	<!-- End Google Analytics -->



    
    
  </body>
</html>
